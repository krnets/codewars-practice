#define DOCTEST_CONFIG_IMPLEMENT_WITH_MAIN
#include <doctest/doctest.h>
#include "solve.h"

TEST_CASE("testing Error correction #1 - Hamming Code")
{
	SUBCASE("Encode_short_word")
	{
		CHECK(encode("hey") == "000111111000111000000000000111111000000111000111000111111111111000000111");
	}
	SUBCASE("Encode_long_test")
	{
		CHECK(encode("The Sensei told me that i can do this kata") ==
			"000111000111000111000000000111111000111000000000000111111000000111000111000000111000000000000000000111000111000000111111000111111000000111000111000111111000111111111000000111111111000000111111000111111000000111000111000111111000111000000111000000111000000000000000000111111111000111000000000111111000111111111111000111111000111111000000000111111000000111000000000000111000000000000000000111111000111111000111000111111000000111000111000000111000000000000000000111111111000111000000000111111000111000000000000111111000000000000111000111111111000111000000000000111000000000000000000111111000111000000111000000111000000000000000000111111000000000111111000111111000000000000111000111111000111111111000000000111000000000000000000111111000000111000000000111111000111111111111000000111000000000000000000111111111000111000000000111111000111000000000000111111000111000000111000111111111000000111111000000111000000000000000000111111000111000111111000111111000000000000111000111111111000111000000000111111000000000000111")
		;
	}
	SUBCASE("Encode_with_numbers")
	{
		CHECK(encode("T3st") ==
			"000111000111000111000000000000111111000000111111000111111111000000111111000111111111000111000000");
	}
	SUBCASE("Encode_with_special_characters")
	{
		CHECK(encode("T?st!%") ==
			"000111000111000111000000000000111111111111111111000111111111000000111111000111111111000111000000000000111000000000000111000000111000000111000111")
		;
	}
	SUBCASE("Decode_short_word")
	{
		CHECK(decode("100111111000111001000010000111111000000111001111000111110110111000010111") == "hey");;
	}
	SUBCASE("Decode_long_word")
	{
		CHECK(decode(
			"000111000111000111000100000111111000111000001000000111111000000111000111000100111000000000000000000111000111000000111111000111111000000111000111000111111000111111111000000111111111000000111111000110111000010111000111000111111000111001000111000000111000000000000000000111111111000111000000000111111000111111111111000111111000111111000000000111111000000111000001000000111000000000001000000111111000111111000111000111111000000111000111000000111000000000000000000111111111000111000000000111111000111000000000000111111000000010000111000111111111000111000000000100111000000000000000000111111000111000000111000000111000000000000000000111111000000000111111000111111000000000000111000111111000111111111000000000111000000000000010000111111000000111000000000111111000111111110111000000111000000000000000000111111111000111000000000111111000111000000000000111111000111000000111000111111111000000111111000000111000000000000000000111111000111000111111000111111000000000000111000111111111000111000000000111111000000000000111"
		) == "The Sensei told me that i can do this kata");
	}
	SUBCASE("Decode_with_numbers")
	{
		CHECK(decode("000111000111000111000001000000111111000000111111000111111111000000111011000111111111000111000000")
			== "T3st");
	}
	SUBCASE("Decode_with_special_characters")
	{
		CHECK(decode(
			"000111000111000111000010000000111111111111011111000111111111000000111111000111101111000111000000000000111000000000000111000000111000000111000111"
		) == "T?st!%");
	}
}
